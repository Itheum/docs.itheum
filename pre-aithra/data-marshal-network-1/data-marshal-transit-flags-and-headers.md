# Data Marshal Transit Flags and Headers

## Accepted Flags

The Data Marshal Node network can respond to various flags that are injected via "query string params" and/or "response headers" that are attached to the Data Streams by their creators to trigger some custom behavior. These accepted flags are as follows:

\


| Flag                                          | How to use                                                                                             | Example                                                                                            | What it does                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| --------------------------------------------- | ------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| dmf-nestedstream=1                            | <p>[URL QueryString]<br><br>Append this to your Data Stream URL </p>                                   | ipns://k51qzi5uqu5dkgpkqwl7gf60fu4clninr3fsge2i7x67kz0xfz5in5pu61epti?dmf-nestedstream=1           | <p>Once the Data Marshal sees this flag, it will treat the Data Stream content as a "Nested Stream."<br><br>See <a data-mention href="../software-development-kits-sdks/data-nft-sdk/guide-3-using-nested-streams-to-access-nested-data-assets-from-a-primary-data-stream.md">guide-3-using-nested-streams-to-access-nested-data-assets-from-a-primary-data-stream.md</a></p>                                                                                                                                      |
| <p>dmf-dnslink=1 <br>&#x26;<br>dmf-http=1</p> | <p>[URL QueryString]<br><br>Append both these to your Data Stream URL</p>                              | http://mydoamin.x/myfile.json?dmf-dnslink=1 \&dmf-http=1                                           | As we support the [DNS Link standard](https://dnslink.dev/) for IPFS based Data Streams, most of the IPFS DNS Link gatways are still not HTTPS compatible. So here, the Data Stream creator uses thes query string params to inform the Data Marshal node to allow for "http" only in this scenario                                                                                                                                                                                                                |
| dmf-allow-http403=1                           | <p>[URL QueryString]<br><br>Append this to your Data Stream URL </p>                                   | https://api.itheumcloud-stg.com/datadexapi/bespoke/dynamicSecureDataStreamDemo?dmf-allow-http403=1 | A flag to inform the Data Marshal (and also the minting UI in the Data DEX for Data NFT-FT) that this is a Data Stream that has some authentication system (e.g. [MultiversX Native Auth](https://docs.itheum.io/product-docs/integrators/data-streams-guides/multiversx-native-auth-protected-api)) and therefore returns a 403 (forbidden HTTP code) instead of a usual 200 OK. This is useful to inform the Data Marshal that 403 is actually OK during an uptime check as it is what the Data Creator wanted.  |
| x-amz-meta-marshal-deep-fetch=1               | <p>[Server Response Header]<br><br>Your Data Stream origin server can send this as response header</p> | Send as regular HTTP response header                                                               | The same behavioir as the above "dmf-nestedstream=1" param, but is triggered by a server response header instead in he event you want to do this                                                                                                                                                                                                                                                                                                                                                                   |

##

## Injected Headers

The Data Marshal Node network also injects some extra headers into each stream before it forwards it to the Data Stream origin server, which can then be used as needed. These injected headers are as follows:&#x20;



| Header                                                  | Possible Values / Samples                                                                                                                                        | What it does                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| itm-marshal-fwd-chainid                                 | <p>ED = MultiversX Devnet<br><br>E1 = MultiversX Mainnet</p>                                                                                                     | Provides the chain ID of the caller (usually via the [data-nft-sdk](../software-development-kits-sdks/data-nft-sdk/ "mention") init config)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| itm-marshal-fwd-tokenid                                 | <p><br>The NFT token ID of any supported SFT or NFT collection.<br><br>e.g.<br>DATANFTFT-e0b917-ca (e.g. SFT)<br><br>DNFTPHNAUT-f3f22a-02 (e.g. NFT)<br><br></p> | After validating the ownership of this Data NFT via the caller's authentication proofs, it forwards this value to the Data Stream origin server which can then use this to personalize the data stream response for the user. See example guide [data-nft-ph-plug-in-hybrid.md](../data-nft/data-nft-types/data-nft-ph-plug-in-hybrid.md "mention")                                                                                                                                                                                                                                                                                                                                                         |
| Up to any 10 HTTP REQUEST HEADER and their values value | <p>Example SDK Params:<br>...<br>fwdHeaderKeys: "authorization", fwdHeaderMapLookup: { "authorization": <code>Bearer ${nativeAuthToken}</code>, }<br>...</p>     | <p>When you "unlock" a Data NFT via the <a data-mention href="../software-development-kits-sdks/data-nft-sdk/">data-nft-sdk</a>, you can ask it to forward up to 10 HTTP Request Headers and set their values and all these values are forwared by the Data Marshal onto the Data Stream Origin Server.<br><br>For example, to send over any client side "Authrization" Bearer token values, you can use the Data NFT SDK to forward them.<br><br><a href="https://docs.itheum.io/product-docs/developers/software-development-kits-sdks/data-nft-sdk/guide-2-unlocking-data-nfts-via-multiversx-native-auth#step-4-open-a-data-nft-and-view-data-via-a-native-auth-session">See a code sample here</a></p> |

